(this.webpackJsonpfront_53857=this.webpackJsonpfront_53857||[]).push([[0],{45:function(e,t,n){},71:function(e,t,n){},72:function(e,t,n){},81:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n.n(c),a=n(22),s=n.n(a),i=(n(71),n(72),n(10)),o=n.n(i),j=n(16),l=n(7),d="https://backend-web53857.herokuapp.com",u="".concat(d,"/user"),b="".concat(d,"/user/auth"),h="".concat(d,"/product"),O="".concat(d,"/public/product"),x=n(6),p=n(1),m=Object(c.createContext)(),f=function(e){var t=e.children,n=Object(c.useState)(!1),r=Object(l.a)(n,2),a=r[0],s=r[1],i=Object(x.g)();Object(c.useEffect)((function(){localStorage.getItem("token")&&s(!0)}),[]);var d=function(){var e=Object(j.a)(o.a.mark((function e(t){var n,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(b,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});case 2:if(200!==(n=e.sent).status){e.next=9;break}return e.next=6,n.json();case 6:c=e.sent,localStorage.setItem("token",c.token),s(!0);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),h={handleRegister:function(e){fetch(u,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then(function(){var e=Object(j.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(201!==t.status){e.next=6;break}return e.next=3,t.json();case 3:n=e.sent,localStorage.setItem("token",n.token),s(!0);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){console.log(e)}))},handleLogin:d,auth:a,handleLogout:function(){localStorage.removeItem("token"),i("/"),s(!1)}};return Object(p.jsx)(m.Provider,{value:h,children:t})},v=m,g=Object(c.createContext)(),C=function(e){var t=e.children,n=Object(c.useState)([]),r=Object(l.a)(n,2),a=r[0],s=r[1],i=Object(c.useState)([]),d=Object(l.a)(i,2),u=d[0],b=d[1];Object(c.useEffect)((function(){m().finally(),C().finally()}),[]);var x=function(){var e=Object(j.a)(o.a.mark((function e(t){var n,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=localStorage.getItem("token"),e.next=3,fetch(h,{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(n)},body:JSON.stringify(t)});case 3:return 201===(c=e.sent).status&&m(),e.abrupt("return",c);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),m=function(){var e=Object(j.a)(o.a.mark((function e(){var t,n,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=localStorage.getItem("token"),e.next=3,fetch(h,{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)}});case 3:if(200!==(n=e.sent).status){e.next=9;break}return e.next=7,n.json();case 7:c=e.sent,s(c);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),f=function(){var e=Object(j.a)(o.a.mark((function e(t){var n,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=localStorage.getItem("token"),e.next=3,fetch(h,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(n)},body:JSON.stringify(t)});case 3:return 200===(c=e.sent).status&&m(),e.abrupt("return",c.status);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v=function(){var e=Object(j.a)(o.a.mark((function e(t){var n,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=localStorage.getItem("token"),e.next=3,fetch(h,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(n)},body:JSON.stringify({id:t})});case 3:return 200===(c=e.sent).status&&m(),e.abrupt("return",c.status);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),C=function(){var e=Object(j.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(O,{method:"GET",headers:{"Content-Type":"application/json"}});case 2:if(200!==(t=e.sent).status){e.next=8;break}return e.next=6,t.json();case 6:n=e.sent,b(n);case 8:return e.abrupt("return",t.status);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),w={handleCreate:x,products:a,setProduct:f,deleteProduct:v,catalogue:u,getAllProducts:C};return Object(p.jsx)(g.Provider,{value:w,children:t})},w=g,y=n(93),k=n(84),S=n(58),P=Object(c.createContext)(),N=function(e){var t=e.children,n=Object(c.useState)([]),r=Object(l.a)(n,2),a=r[0],s=r[1],i={cart:a,handleCart:function(e){return s([].concat(Object(S.a)(a),[e]))}};return Object(p.jsx)(P.Provider,{value:i,children:t})},I=P,L=n(8),E=n(2),T=n(91),B=n(83),G=n(64),F=n(88),q={id:"",name:"",price:""},_=function(e){var t=e.show,n=e.handleClose,r=e.id,a=e.name,s=e.price,i=Object(c.useContext)(w).setProduct,o=Object(c.useState)(q),j=Object(l.a)(o,2),d=j[0],u=j[1];Object(c.useEffect)((function(){u({id:r,name:a,price:s})}),[a]);var b=function(e){u(Object(E.a)(Object(E.a)({},d),{},Object(L.a)({},e.target.name,e.target.value)))};return Object(p.jsxs)(T.a,{show:t,onHide:n,backdrop:"static",children:[Object(p.jsx)(T.a.Header,{closeButton:!0,children:Object(p.jsx)(T.a.Title,{children:"Update product"})}),Object(p.jsx)(T.a.Body,{children:Object(p.jsxs)(B.a,{children:[Object(p.jsx)(G.a,{children:Object(p.jsxs)(F.a.Group,{className:"mb-3",controlId:"productName",children:[Object(p.jsx)(F.a.Label,{children:"Product name"}),Object(p.jsx)(F.a.Control,{required:!0,value:d.name,onChange:b,name:"name",type:"text",placeholder:"Enter product name"})]})}),Object(p.jsx)(G.a,{children:Object(p.jsxs)(F.a.Group,{className:"mb-3",controlId:"productPrice",children:[Object(p.jsx)(F.a.Label,{children:"Product price"}),Object(p.jsx)(F.a.Control,{required:!0,value:d.price,onChange:b,name:"price",type:"number",placeholder:"Enter product price"})]})})]})}),Object(p.jsxs)(T.a.Footer,{children:[Object(p.jsx)(k.a,{variant:"secondary",onClick:n,children:"Close"}),Object(p.jsx)(k.a,{variant:"primary",onClick:function(){i(d),u(q),n()},children:"Update"})]})]})},A=function(e){var t=e.objProduct,n=e.edit,r=Object(c.useContext)(w).deleteProduct,a=Object(c.useContext)(I).handleCart,s=Object(c.useState)(!1),i=Object(l.a)(s,2),o=i[0],j=i[1];return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsxs)(y.a,{children:[Object(p.jsx)(y.a.Header,{}),Object(p.jsxs)(y.a.Body,{children:[Object(p.jsx)(y.a.Title,{children:t.name}),Object(p.jsx)(y.a.Text,{children:t.price}),n?Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(k.a,{variant:"warning",onClick:function(){j(!0)},children:"Edit"}),"\xa0",Object(p.jsx)(k.a,{variant:"danger",onClick:function(){r(t._id)},children:"Delete"})]}):Object(p.jsx)(k.a,{onClick:function(){return a(t)},children:"Add cart"})]})]}),Object(p.jsx)(_,{objProduct:t,show:o,handleClose:function(){j(!1)}})]})},H=(n(45),n(85)),J=function(e){var t=e.show,n=e.handleClose,c=e.cart;return Object(p.jsxs)(T.a,{show:t,onHide:n,children:[Object(p.jsx)(T.a.Header,{closeButton:!0,children:Object(p.jsx)(T.a.Title,{children:"Shopping"})}),Object(p.jsx)(T.a.Body,{children:Object(p.jsxs)(H.a,{striped:!0,bordered:!0,hover:!0,children:[Object(p.jsx)("thead",{children:Object(p.jsxs)("tr",{children:[Object(p.jsx)("th",{children:"Product"}),Object(p.jsx)("th",{children:"Price"}),Object(p.jsx)("th",{children:"Image"})]})}),Object(p.jsx)("tbody",{children:c.map((function(e){return Object(p.jsxs)("tr",{children:[Object(p.jsx)("td",{children:e.name}),Object(p.jsx)("td",{children:e.price}),Object(p.jsx)("td",{children:"----"})]},e._id)}))})]})}),Object(p.jsx)(T.a.Footer,{children:Object(p.jsx)(k.a,{variant:"secondary",onClick:n,children:"Close"})})]})},D=function(){var e=Object(c.useContext)(w).catalogue,t=Object(c.useContext)(I).cart,n=Object(c.useState)(!1),r=Object(l.a)(n,2),a=r[0],s=r[1];return Object(p.jsxs)("div",{children:[Object(p.jsx)("h2",{children:"Catalogue"}),Object(p.jsx)(k.a,{onClick:function(){return s(!0)},children:"Cart"}),Object(p.jsx)("div",{className:"contCards",children:e.map((function(e){return Object(p.jsx)(A,{objProduct:e,edit:!1},e._id)}))}),Object(p.jsx)(J,{show:a,handleClose:function(){return s(!1)},cart:t})]})},R=n(86),z={name:"",price:""},U=function(){var e=Object(c.useContext)(w).handleCreate,t=Object(c.useState)(z),n=Object(l.a)(t,2),r=n[0],a=n[1],s=Object(c.useState)(!1),i=Object(l.a)(s,2),d=i[0],u=i[1],b=function(e){a(Object(E.a)(Object(E.a)({},r),{},Object(L.a)({},e.target.name,e.target.value)))},h=function(){var t=Object(j.a)(o.a.mark((function t(n){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),t.next=3,e(r);case 3:201===t.sent.status&&(a(z),u(!0),setTimeout((function(){return u(!1)}),3e3));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(p.jsxs)("div",{children:[Object(p.jsx)("h4",{children:"Create"}),Object(p.jsx)(R.a,{variant:"success",show:d,children:"Created product"}),Object(p.jsxs)(F.a,{onSubmit:h,children:[Object(p.jsxs)(B.a,{children:[Object(p.jsx)(G.a,{children:Object(p.jsxs)(F.a.Group,{className:"mb-3",controlId:"productName",children:[Object(p.jsx)(F.a.Label,{children:"Product name"}),Object(p.jsx)(F.a.Control,{required:!0,value:r.name,onChange:b,name:"name",type:"text",placeholder:"Enter product name"})]})}),Object(p.jsx)(G.a,{children:Object(p.jsxs)(F.a.Group,{className:"mb-3",controlId:"productPrice",children:[Object(p.jsx)(F.a.Label,{children:"Product price"}),Object(p.jsx)(F.a.Control,{required:!0,value:r.price,onChange:b,name:"price",type:"number",placeholder:"Enter product price"})]})})]}),Object(p.jsx)(k.a,{variant:"primary",type:"submit",children:"Create"})]})]})},M=function(){var e=Object(c.useContext)(w).products;return Object(p.jsxs)("div",{children:[Object(p.jsx)(U,{}),Object(p.jsx)("br",{}),Object(p.jsx)("div",{className:"contCards",children:e.map((function(e){return Object(p.jsx)(A,{className:"card",objProduct:e,edit:!0},e._id)}))})]})},W=function(){return Object(p.jsx)("div",{children:Object(p.jsx)("img",{src:"https://www.prominentconsultantglobal.com/public/assets/img/404-error.png"})})},K=n(89),Q=n(87),V=n(90),X=n(34),Y=n.p+"static/media/logo.6ce24c58.svg",Z=function(){var e=Object(c.useContext)(v).handleLogout;return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(K.a,{bg:"dark",variant:"dark",children:Object(p.jsxs)(Q.a,{children:[Object(p.jsxs)(K.a.Brand,{href:"#home",children:[Object(p.jsx)("img",{alt:"",src:Y,width:"30",height:"30",className:"d-inline-block align-top"})," ","React Web 53857"]}),Object(p.jsx)(K.a.Collapse,{id:"basic-navbar-nav",children:Object(p.jsxs)(V.a,{className:"me-auto",children:[Object(p.jsx)(V.a.Link,{as:X.b,to:"/",href:"#home",children:"Home"}),Object(p.jsx)(V.a.Link,{as:X.b,to:"/catalogue",href:"#catalogue",children:"Catalogue"}),Object(p.jsx)(V.a.Link,{href:"",onClick:e,children:"Log Out"})]})})]})}),Object(p.jsx)(N,{children:Object(p.jsx)(x.a,{})})]})},$=function(){return Object(p.jsx)(x.d,{children:Object(p.jsxs)(x.b,{path:"/",element:Object(p.jsx)(Z,{}),children:[Object(p.jsx)(x.b,{index:!0,element:Object(p.jsx)(M,{})}),Object(p.jsx)(x.b,{path:"catalogue",element:Object(p.jsx)(D,{})}),Object(p.jsx)(x.b,{path:"*",element:Object(p.jsx)(W,{})})]})})},ee={name:"",lastname:"",email:"",password:""},te=function(){var e=Object(c.useContext)(v).handleRegister,t=Object(c.useState)(ee),n=Object(l.a)(t,2),r=n[0],a=n[1],s=function(e){var t=Object(E.a)(Object(E.a)({},r),{},Object(L.a)({},e.target.name,e.target.value));a(t)};return Object(p.jsxs)("div",{className:"register",children:[Object(p.jsx)("h2",{children:"Register"}),Object(p.jsxs)(F.a,{onSubmit:function(t){t.preventDefault(),e(r),a(ee)},children:[Object(p.jsxs)(B.a,{children:[Object(p.jsx)(G.a,{children:Object(p.jsxs)(F.a.Group,{className:"mb-3",controlId:"name",children:[Object(p.jsx)(F.a.Label,{children:"Name"}),Object(p.jsx)(F.a.Control,{required:!0,value:r.name,onChange:s,name:"name",type:"text",placeholder:"Enter name"})]})}),Object(p.jsx)(G.a,{children:Object(p.jsxs)(F.a.Group,{className:"mb-3",controlId:"lastname",children:[Object(p.jsx)(F.a.Label,{children:"Lastname"}),Object(p.jsx)(F.a.Control,{required:!0,value:r.lastname,onChange:s,name:"lastname",type:"text",placeholder:"Enter lastname"})]})})]}),Object(p.jsxs)(B.a,{children:[Object(p.jsx)(G.a,{children:Object(p.jsxs)(F.a.Group,{className:"mb-3",controlId:"email",children:[Object(p.jsx)(F.a.Label,{children:"Email address"}),Object(p.jsx)(F.a.Control,{required:!0,value:r.email,onChange:s,name:"email",type:"email",placeholder:"Enter email"})]})}),Object(p.jsx)(G.a,{children:Object(p.jsxs)(F.a.Group,{className:"mb-3",controlId:"password",children:[Object(p.jsx)(F.a.Label,{children:"Password"}),Object(p.jsx)(F.a.Control,{required:!0,value:r.password,onChange:s,name:"password",type:"password",placeholder:"Password"})]})})]}),Object(p.jsx)(k.a,{variant:"primary",type:"submit",children:"Register"})]})]})},ne={email:"",password:""},ce=function(){var e=Object(c.useContext)(v).handleLogin,t=Object(c.useState)(ne),n=Object(l.a)(t,2),r=n[0],a=n[1],s=Object(c.useState)(!1),i=Object(l.a)(s,2),d=i[0],u=i[1],b=function(e){var t=Object(E.a)(Object(E.a)({},r),{},Object(L.a)({},e.target.name,e.target.value));a(t)},h=function(){var t=Object(j.a)(o.a.mark((function t(n){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),t.next=3,e(r);case 3:200===t.sent.status?a(ne):u(!0);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(p.jsxs)("div",{className:"login",children:[Object(p.jsx)("h2",{children:"Login"}),Object(p.jsx)(R.a,{variant:"danger",show:d,children:"Invalid Credentials"}),Object(p.jsxs)(F.a,{onSubmit:h,children:[Object(p.jsxs)(F.a.Group,{className:"mb-3",controlId:"loginEmail",children:[Object(p.jsx)(F.a.Label,{children:"Email address"}),Object(p.jsx)(F.a.Control,{required:!0,value:r.email,onChange:b,name:"email",type:"email",placeholder:"Enter email"})]}),Object(p.jsxs)(F.a.Group,{className:"mb-3",controlId:"loginPassword",children:[Object(p.jsx)(F.a.Label,{children:"Password"}),Object(p.jsx)(F.a.Control,{required:!0,value:r.password,onChange:b,name:"password",type:"password",placeholder:"Password"})]}),Object(p.jsx)(k.a,{variant:"primary",type:"submit",children:"Enter"})]})]})},re=function(){return Object(p.jsxs)("div",{children:[Object(p.jsx)(X.b,{to:"/home",children:"Home"}),Object(p.jsx)(ce,{}),Object(p.jsx)("br",{}),Object(p.jsx)("hr",{}),Object(p.jsx)("br",{}),Object(p.jsx)(te,{})]})},ae=n(92),se=n.p+"static/media/slider_1.ce8c6add.jpg",ie=n.p+"static/media/slider_2.a7a589a3.jpg",oe=function(){var e=Object(x.g)();return Object(p.jsxs)("div",{children:[Object(p.jsxs)(ae.a,{children:[Object(p.jsxs)(ae.a.Item,{children:[Object(p.jsx)("img",{className:"d-block w-100",src:se,alt:"First slide",height:"500px",width:"100vm"}),Object(p.jsxs)(ae.a.Caption,{children:[Object(p.jsx)("h3",{children:"First slide label"}),Object(p.jsx)("p",{children:"Nulla vitae elit libero, a pharetra augue mollis interdum."}),Object(p.jsx)(k.a,{variant:"success",onClick:function(){e("/")},children:"Sign in"})]})]}),Object(p.jsxs)(ae.a.Item,{children:[Object(p.jsx)("img",{className:"d-block w-100",src:ie,alt:"Second slide",height:"500px",width:"100vm"}),Object(p.jsxs)(ae.a.Caption,{children:[Object(p.jsx)("h3",{children:"Second slide label"}),Object(p.jsx)("p",{children:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."})]})]})]}),Object(p.jsx)(C,{children:Object(p.jsx)(N,{children:Object(p.jsx)(D,{})})})]})},je=function(){return Object(p.jsxs)(x.d,{children:[Object(p.jsx)(x.b,{path:"/",element:Object(p.jsx)(re,{})}),Object(p.jsx)(x.b,{path:"/home",element:Object(p.jsx)(oe,{})}),Object(p.jsx)(x.b,{path:"*",element:Object(p.jsx)(W,{})})]})};var le=function(){var e=Object(c.useContext)(v).auth;return Object(p.jsx)("div",{className:"App",children:e?Object(p.jsx)(C,{children:Object(p.jsx)($,{})}):Object(p.jsx)(je,{})})},de=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,94)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,a=t.getLCP,s=t.getTTFB;n(e),c(e),r(e),a(e),s(e)}))};n(80);s.a.render(Object(p.jsx)(r.a.StrictMode,{children:Object(p.jsx)(X.a,{children:Object(p.jsx)(f,{children:Object(p.jsx)(le,{})})})}),document.getElementById("root")),de()}},[[81,1,2]]]);
//# sourceMappingURL=main.0996713f.chunk.js.map